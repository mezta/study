<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dao.ShopDao">
	<!-- 获取符合条件的所有商品信息 -->
	<select id="getAllShop" resultType="com.bean.Shop"
		parameterType="com.bean.Shop">
		select * from shop  where 1=1
		<if test="IName!=null and IName!=''">
			and shopname like '%${IName}%'
		</if>
		order by shopid asc
	</select>
	<!-- 获取分页 -->
	<select id="getLimitShop" resultType="com.bean.Shop">
		select * from shop where 1=1
		<if test="IName != null and IName != ''">
			and shopname like '%${IName}%'
		</if>
		<if test="pageNo >=0 and pageSize >=0">
			limit #{pageNo},#{pageSize}
		</if>
	</select>
	<!-- 新增商品 -->
	<insert id="addShop" parameterType="com.bean.Shop">
		insert into shop
		(shopname,content,price,letter,pic)
		values(#{shopname},#{content},
		#{price},#{letter},#{pic})
	</insert>
	
	<!-- 通过id获取商品 -->
	<select id="getShopByID" resultType="com.bean.Shop"
		parameterType="Integer">
		select * from shop
		where shopid=#{shopid} order by shopid asc
	</select>
	<!-- 修改商品 -->
	<update id="updateShop" parameterType="com.bean.Shop">
		update shop set shopname=#{shopname},content=#{content},price=#{price},letter=#{letter},
		<if test="pic!=null">
			pic=#{pic}
		</if>
		where shopid=#{shopid}
	</update>
	
	<!-- 删除商品 -->
	<delete id="deleteShopByID" parameterType="Integer">
		delete from shop where shopid=#{shopid}
	</delete>
	<select id="getAllShops" resultType="com.bean.Shop"
		parameterType="com.bean.Shop">
		select * from shop 
		order by shopid asc
	</select>
</mapper>
